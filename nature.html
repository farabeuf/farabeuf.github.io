<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farabeuf - Fotografía</title>
    <link rel="icon" href="img/web/fbf.ico" type="image/x-icon">
    <!-- Metaetiquetas para SEO -->
    <meta name="description" content="Farabeuf's photography gallery | Galería de fotografías de Farabeuf | Fotogalerie von Farabeuf. Explore my work in urbanism, landscapes, nature, street photography, and street art | Explora mis trabajos en urbanismo, paisajes, naturaleza, street photography y arte urbano | Entdecken Sie meine Arbeiten in Urbanismus, Landschaften, Natur, Street Photography und Street Art.">
<meta name="keywords" content="photography, gallery, urbanism, landscapes, nature, street photography, street art, urban photography, architecture, events, urban landscapes, fotografía, galería, urbanismo, paisajes, naturaleza, fotografía callejera, arte urbano, arquitectura, eventos, paisajes urbanos, Fotografie, Galerie, Urbanismus, Landschaften, Natur, Street Photography, Street Art, urbane Fotografie, Architektur, Veranstaltungen, städtische Landschaften">
    <style>
        /* Estilos generales */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 80px 0 0; /* Ajuste para el menú fijo */
            background-color: #f0f0f0;
        }

        header {
            background-color: white;
            color: #333;
            padding: 1em;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 10;
            box-sizing: border-box;
        }

        .logo-container {
            display: flex;
            align-items: center;
        }

        .logo {
            width: 54px;
            height: 54px;
            margin-right: 10px;
        }

        .menu {
            display: flex;
            align-items: center;
            margin-right: 15px;
        }

        .menu a, .dropdown > a {
            color: #333;
            text-decoration: none;
            padding: 10px 15px;
            display: block;
        }

        .menu a:last-child {
            margin-right: 0;
        }

        .dropdown {
            position: relative;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: white;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .dropdown-content a {
            color: #333;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }

        .dropdown-content a:hover {
            background-color: #f1f1f1;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .menu .icon {
            display: none;
        }

        /* Estilos responsivos para el menú */
        @media screen and (max-width: 1024px) {
            .menu a:not(:first-child), .dropdown {
                display: none;
            }
            .menu a.icon {
                float: right;
                display: block;
            }
            .menu.responsive {
                flex-direction: column;
                align-items: flex-start;
            }
            .menu.responsive a.icon {
                position: absolute;
                right: 0;
                top: 0;
            }
            .menu.responsive a, .menu.responsive .dropdown {
                display: block;
                text-align: left;
            }
            .menu.responsive .dropdown-content {
                position: relative;
            }
        }

        /* Estilos de la galería */
#gallery-container {
    display: grid;
	grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 10px;
    padding: 20px;
    width: 100%;
	box-sizing: border-box;
    justify-content: center;
}
		/* Ajustar el número de columnas según el tamaño de la pantalla */
@media screen and (min-width: 1200px) {
    #gallery-container {
        grid-template-columns: repeat(5, 1fr); /* 5 columnas en pantallas grandes */
    }
}

@media screen and (min-width: 768px) and (max-width: 1199px) {
    #gallery-container {
        grid-template-columns: repeat(3, 1fr); /* 3 columnas en pantallas medianas */
    }
}

@media screen and (max-width: 767px) {
    #gallery-container {
        grid-template-columns: repeat(2, 1fr); /* 2 columnas en pantallas pequeñas */
    }
}

        .gallery-item {
			width: 100%;
    overflow: hidden;
    border-radius: 8px;
    aspect-ratio: 1 / 1; /* Mantener la proporción cuadrada */
    position: relative;
    background-color: #f0f0f0; /* Fondo para imágenes que no cargan */
}

.gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Ajustar la imagen al contenedor sin distorsionar */
    cursor: pointer;
    transition: transform 0.3s ease, opacity 0.3s ease;
    opacity: 0; /* Inicialmente invisible para el efecto de carga */
}

.gallery-item img.loaded {
    opacity: 1; /* Mostrar la imagen cuando esté cargada */
}

.gallery-item img:hover {
    transform: scale(1.05); /* Efecto de zoom al hacer hover */
}@charset "utf-8";
/* CSS Document */

		

        /* Estilos del popup */
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .popup img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }

        .popup button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            cursor: pointer;
            padding: 16px;
            font-size: 18px;
        }

        #prevBtn {
            left: 10px;
        }

        #nextBtn {
            right: 10px;
        }

        /* Estilos del footer */
        footer {
            padding: 20px 0;
            text-align: center;
        }

        footer a {
            color: #333;
            text-decoration: none;
            padding: 10px 15px;
            display: inline-block;
            margin: 5px;
        }

        footer a:hover {
            background-color: #f1f1f1;
        }

        /* Estilos de paginación */
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .pagination a, .pagination span {
            color: black;
            padding: 8px 16px;
            text-decoration: none;
            border: 1px solid #ddd;
            margin: 0 4px;
        }

        .pagination a.active {
            background-color: #4CAF50;
            color: white;
            border: 1px solid #4CAF50;
        }

        .pagination a:hover:not(.active) {
            background-color: #ddd;
        }

        .pagination-ellipsis {
            padding: 8px 16px;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <a href="index.html">
                <img src="img/web/display2.jpg" alt="Logo" class="logo">
            </a>
            <p><strong>Nature</strong></p>
        </div>
        <nav class="menu" id="myMenu" aria-label="Menú principal">
    <a href="index.html" aria-current="page">Home</a>
    <div class="dropdown" aria-haspopup="true">
        <a href="#" aria-expanded="false">Gallery</a>
        <div class="dropdown-content" aria-label="Submenú de galerías">
            <a href="urban.html">Urban and Architecture</a>
            <a href="events.html">Events</a>
            <a href="landscapes.html">Landscapes</a>
            <a href="nature.html">Nature</a>
            <a href="streetfoto.html">Street Photography</a>
            <a href="street-art.html">Street Art</a>
            <a href="misc.html">Misc</a>
        </div>
    </div>
    <a href="about.html">About Me</a>
    <a href="https://www.instagram.com/_alfonso_arroyo_s/" target="_blank" rel="noopener noreferrer">Instagram</a>
    <a href="javascript:void(0);" class="icon" onclick="toggleMenu()" aria-label="Abrir menú">☰</a>
</nav>
    </header>

    <div class="content">
        <div id="gallery-container" class="gallery"></div>

        <!-- Popup para imágenes ampliadas -->
        <div id="popup" class="popup" onclick="closePopup()">
            <img id="popupImg" src="" alt="Imagen ampliada">
            <button id="prevBtn" onclick="changeImage(-1)">&#10094;</button>
            <button id="nextBtn" onclick="changeImage(1)">&#10095;</button>
        </div>
    </div>

    <!-- Paginación -->
    <div id="pagination-container" class="pagination"></div>

    <!-- Footer -->
    <footer>
        © 2025 <a href="impressum.html">Impressum</a> - <a href="datenschutz.html">Datenschutzerklärung</a>
    </footer>

    <script>
        // Función para alternar el menú en dispositivos móviles
        function toggleMenu() {
            var x = document.getElementById("myMenu");
            if (x.className === "menu") {
                x.className += " responsive";
            } else {
                x.className = "menu";
            }
        }
// Función para ajustar dinámicamente el número de columnas en la galería
function adjustGalleryColumns() {
    const galleryContainer = document.getElementById('gallery-container');
    const screenWidth = window.innerWidth;

    if (screenWidth >= 1200) {
        galleryContainer.style.gridTemplateColumns = 'repeat(5, 1fr)'; // 5 columnas en pantallas grandes
    } else if (screenWidth >= 768) {
        galleryContainer.style.gridTemplateColumns = 'repeat(3, 1fr)'; // 3 columnas en pantallas medianas
    } else {
        galleryContainer.style.gridTemplateColumns = 'repeat(1, 1fr)'; // 2 columnas en pantallas pequeñas
    }
}
		
        // Variables globales para el popup
let currentIndex = 0;
let images = [];

// Función para obtener el número total de imágenes en una categoría
function getTotalImages() {
    // Supongamos que las imágenes están en la carpeta "img/chidas/" y siguen el formato "img_chidas_XX.jpg"
    // Este valor puede ajustarse dinámicamente si es necesario
    return 101; // Cambia este valor según el número real de imágenes
}

// Función para crear la galería dinámica
function createGallery(page = 1) {
    const galleryContainer = document.getElementById('gallery-container');
    const basePath = 'img/nature/';
    const imagesPerPage = 15;
    const totalImages = getTotalImages(); // Obtener el número total de imágenes
    const startIndex = totalImages - (page - 1) * imagesPerPage; // Calcular el índice inicial en orden inverso
    const endIndex = startIndex - imagesPerPage + 1; // Calcular el índice final en orden inverso

    galleryContainer.innerHTML = ''; // Limpiar la galería antes de agregar nuevas imágenes

    for (let i = startIndex; i >= endIndex && i >= 1; i--) { // Iterar en orden descendente
        const paddedNumber = i.toString().padStart(3, '0'); // Formatear el número con 2 dígitos
        const imagePath = `${basePath}img_nature_${paddedNumber}.jpg`;

        const galleryItem = document.createElement('div');
        galleryItem.className = 'gallery-item';

        const img = document.createElement('img');
        img.src = imagePath;
        img.alt = `Imagen ${i}`;
        img.loading = 'lazy'; // Lazy loading para mejorar el rendimiento
        img.onload = function() {
            this.classList.add('loaded'); // Mostrar la imagen cuando esté cargada
        };
        img.onerror = function() {
            this.style.display = 'none'; // Ocultar la imagen si no se carga
            this.parentElement.style.display = 'none'; // Ocultar el contenedor si la imagen no se carga
        };
        img.onclick = function() { openPopup(this.src); }; // Abrir popup al hacer clic

        galleryItem.appendChild(img);
        galleryContainer.appendChild(galleryItem);
    }
	// Ajustar las columnas después de crear la galería
    adjustGalleryColumns();
}
		
		// Ajustar las columnas al cambiar el tamaño de la ventana
window.addEventListener('resize', adjustGalleryColumns);
		
// Función para crear la paginación
function createPagination(currentPage = 1) {
    const paginationContainer = document.getElementById('pagination-container');
    const totalImages = getTotalImages(); // Obtener el número total de imágenes
    const imagesPerPage = 15;
    const totalPages = Math.ceil(totalImages / imagesPerPage); // Calcular el número total de páginas
    const range = 2; // Rango de páginas a mostrar alrededor de la página actual

    paginationContainer.innerHTML = ''; // Limpiar la paginación antes de agregar nuevos enlaces

    for (let i = 1; i <= totalPages; i++) {
        if (i === 1 || i === totalPages || (i >= currentPage - range && i <= currentPage + range)) {
            const pageLink = document.createElement('a');
            pageLink.href = '#';
            pageLink.textContent = i;
            if (i === currentPage) {
                pageLink.className = 'active'; // Resaltar la página actual
            }
            pageLink.onclick = function(e) {
                e.preventDefault();
                createGallery(i); // Crear la galería para la página seleccionada
                createPagination(i); // Actualizar la paginación
                window.scrollTo(0, 0); // Desplazarse al inicio de la página
            };
            paginationContainer.appendChild(pageLink);
        } else if (i === currentPage - range - 1 || i === currentPage + range + 1) {
            const ellipsis = document.createElement('span');
            ellipsis.textContent = '...';
            ellipsis.className = 'pagination-ellipsis';
            paginationContainer.appendChild(ellipsis);
        }
    }
}

// Función para abrir el popup y mostrar la imagen seleccionada
function openPopup(src) {
    const popup = document.getElementById('popup');
    const popupImg = document.getElementById('popupImg');
    popup.style.display = 'flex'; // Mostrar el popup
    popupImg.src = src; // Establecer la imagen en el popup

    // Obtener todas las imágenes de la galería
    images = Array.from(document.querySelectorAll('.gallery-item img'));
    // Encontrar el índice de la imagen actual
    currentIndex = images.findIndex(img => img.src === src);
}

// Función para cerrar el popup
function closePopup() {
    const popup = document.getElementById('popup');
    popup.style.display = 'none'; // Ocultar el popup
}

// Función para cambiar la imagen en el popup
function changeImage(direction) {
    currentIndex += direction; // Cambiar el índice según la dirección (1 o -1)

    // Asegurarse de que el índice esté dentro del rango de imágenes
    if (currentIndex < 0) currentIndex = images.length - 1; // Si es menor que 0, ir a la última imagen
    if (currentIndex >= images.length) currentIndex = 0; // Si es mayor que el total, ir a la primera imagen

    // Actualizar la imagen en el popup
    const popupImg = document.getElementById('popupImg');
    popupImg.src = images[currentIndex].src;
}

// Navegación con teclado en el popup
document.addEventListener('keydown', function(e) {
    if (e.key === 'ArrowLeft') changeImage(-1); // Flecha izquierda: imagen anterior
    if (e.key === 'ArrowRight') changeImage(1); // Flecha derecha: siguiente imagen
    if (e.key === 'Escape') closePopup(); // Tecla Escape: cerrar popup
});

// Evitar que el clic en la imagen cierre el popup
document.getElementById('popupImg').onclick = function(event) {
    event.stopPropagation(); // Detener la propagación del evento
};

// Evitar que el clic en los botones cierre el popup
document.getElementById('prevBtn').onclick = function(event) {
    event.stopPropagation(); // Detener la propagación del evento
    changeImage(-1); // Ir a la imagen anterior
};

document.getElementById('nextBtn').onclick = function(event) {
    event.stopPropagation(); // Detener la propagación del evento
    changeImage(1); // Ir a la siguiente imagen
};

// Inicializar la galería y la paginación al cargar la página
window.onload = function() {
    createGallery(1); // Crear la galería en la página 1
    createPagination(1); // Crear la paginación
};
    </script>
</body>
</html>
